<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"findxyz.github.io","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="FindxyZ">
<meta property="og:url" content="https://findxyz.github.io/index.html">
<meta property="og:site_name" content="FindxyZ">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="FindxyZ">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://findxyz.github.io/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>FindxyZ</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">FindxyZ</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://findxyz.github.io/2023/03/19/Lab/Jupyter-Notebook/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="FindxyZ">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="FindxyZ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/03/19/Lab/Jupyter-Notebook/" class="post-title-link" itemprop="url">Jupyter Notebook</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-03-19 16:40:00" itemprop="dateCreated datePublished" datetime="2023-03-19T16:40:00+08:00">2023-03-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-03-21 22:45:14" itemprop="dateModified" datetime="2023-03-21T22:45:14+08:00">2023-03-21</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AE%9E%E9%AA%8C%E5%AE%A4/" itemprop="url" rel="index"><span itemprop="name">实验室</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Jupyter-Notebook-使用手册"><a href="#Jupyter-Notebook-使用手册" class="headerlink" title="Jupyter Notebook 使用手册"></a>Jupyter Notebook 使用手册</h2><h3 id="教学视频"><a href="#教学视频" class="headerlink" title="教学视频"></a><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1PT4y1i7qt/?spm_id_from=333.788&vd_source=0e5cfeea8610f593517cc0a7c01f9a08">教学视频</a></h3><h3 id="具体步骤"><a href="#具体步骤" class="headerlink" title="具体步骤"></a>具体步骤</h3><ol>
<li><a target="_blank" rel="noopener" href="https://www.anaconda.com/products/distribution">下载 Python 包管理器 anaconda</a></li>
<li>添加环境变量<ol>
<li>F:\ProgramData\Anaconda3\Scripts</li>
<li>F:\ProgramData\Anaconda3</li>
<li>conda -V</li>
<li>conda env list</li>
<li>conda -h</li>
</ol>
</li>
<li><a target="_blank" rel="noopener" href="https://mirrors.tuna.tsinghua.edu.cn/help/anaconda/">更新 anaconda 包下载源</a><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&gt; conda config --<span class="built_in">set</span> show_channel_urls <span class="built_in">yes</span></span><br><span class="line">&gt; C:\Users\natur\.condarc</span><br><span class="line"><span class="comment">#--- .condarc begin ---</span></span><br><span class="line">channels:</span><br><span class="line">  - defaults</span><br><span class="line">show_channel_urls: <span class="literal">true</span></span><br><span class="line">default_channels:</span><br><span class="line">  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main</span><br><span class="line">  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/r</span><br><span class="line">  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/msys2</span><br><span class="line">custom_channels:</span><br><span class="line">  conda-forge: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  msys2: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  bioconda: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  menpo: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  pytorch: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  pytorch-lts: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  simpleitk: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line"><span class="comment">#--- .condarc end ---</span></span><br><span class="line">&gt; conda clean -i</span><br></pre></td></tr></table></figure></li>
<li>打开 Anaconda Powershell Prompt (Anaconda3)<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; conda create -n myjupyter</span><br><span class="line">&gt; conda <span class="built_in">env</span> list</span><br><span class="line">&gt; conda activate myjupyter</span><br><span class="line">&gt; conda deactivate</span><br></pre></td></tr></table></figure></li>
<li>在新环境安装 Jupyter Notebook<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&gt; conda install jupyter-notebook=6.4.12</span><br><span class="line"><span class="comment">#--- 安装中的问题 begin ---</span></span><br><span class="line">Collecting package metadata (current_repodata.json): failed</span><br><span class="line">CondaSSLError: OpenSSL appears to be unavailable on this machine. OpenSSL is required to</span><br><span class="line">download and install packages.</span><br><span class="line">Exception: HTTPSConnectionPool(host=<span class="string">&#x27;mirrors.tuna.tsinghua.edu.cn&#x27;</span>, port=443): Max retries exceeded with url: /anaconda/cloud/conda-forge/win-64/current_repodata.json (Caused by SSLError(<span class="string">&quot;Can&#x27;t connect to HTTPS URL because the SSL module is not available.&quot;</span>))</span><br><span class="line">解决办法:</span><br><span class="line">    1. 打开【anaconda 安装路径 -&gt; Library -&gt; bin】这个文件夹</span><br><span class="line">    2. 搜索找到【libcrypto-1_1-x64.dll】和【libssl-1_1-x64.dll】这两个文件</span><br><span class="line">    3. 复制到【anaconda 安装路径 -&gt; DLLs】</span><br><span class="line"><span class="comment">#--- 安装中的问题 end ---</span></span><br></pre></td></tr></table></figure>
<a target="_blank" rel="noopener" href="https://www.gelou.store/post/10">安装中问题参考链接</a></li>
<li>启动 Jupyter Notebook<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; jupyter notebook</span><br></pre></td></tr></table></figure></li>
<li>在 Jupyter Notebook 中使用 plantuml<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">PlantUML 基于 Java 实现，因此你需要先安装 Java 运行环境。你可以执行以下命令来安装 OpenJDK：</span><br><span class="line"></span><br><span class="line">&gt; conda install -y openjdk</span><br><span class="line">安装 Graphviz</span><br><span class="line"></span><br><span class="line">PlantUML 还需要 Graphviz 才能渲染图形。你可以使用以下命令来安装 Graphviz：</span><br><span class="line"></span><br><span class="line">&gt; conda install -y graphviz</span><br><span class="line">安装 PlantUML</span><br><span class="line"></span><br><span class="line">最后，你可以使用以下命令来安装 PlantUML：</span><br><span class="line"></span><br><span class="line">&gt; conda install -y -c conda-forge plantuml</span><br><span class="line"></span><br><span class="line">启动 Jupyter Notebook</span><br><span class="line"></span><br><span class="line">安装完成后，你可以使用以下命令启动 Jupyter Notebook：</span><br><span class="line"></span><br><span class="line">jupyter notebook</span><br><span class="line">在 Jupyter Notebook 中使用 PlantUML</span><br><span class="line"></span><br><span class="line">现在，你已经可以在 Jupyter Notebook 中使用 PlantUML 了。在 Markdown 单元格中编写 PlantUML 代码块，然后使用 %%plantuml 魔法命令来渲染图形，例如：</span><br><span class="line"></span><br><span class="line">%%plantuml</span><br><span class="line">@startuml</span><br><span class="line">class Car</span><br><span class="line"></span><br><span class="line">class Engine &#123;</span><br><span class="line">  +start()</span><br><span class="line">  +stop()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Car -&gt; Engine</span><br><span class="line">@enduml</span><br><span class="line">这样就可以在 Jupyter Notebook 中使用 PlantUML 并渲染图形了。</span><br></pre></td></tr></table></figure></li>
<li>在 Jupyter Notebook 中使用 plantuml<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 更换 pip 清华大学镜像源</span></span><br><span class="line">&gt; pip config <span class="built_in">set</span> global.index-url https://pypi.tuna.tsinghua.edu.cn/simple</span><br><span class="line">&gt; pip install iplantuml</span><br></pre></td></tr></table></figure></li>
<li>修改 Jupyter Notebook 启动目录<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; jupyter-notebook --generate-config</span><br><span class="line"><span class="comment"># C:\Users\natur\.jupyter\jupyter_notebook_config.py</span></span><br><span class="line">&gt; c.NotebookApp.notebook_dir = r<span class="string">&#x27;E:\JupyterNotebook&#x27;</span></span><br></pre></td></tr></table></figure></li>
<li>Windows 开机启动<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">start_myjupyter.bat</span><br><span class="line"><span class="comment">#--- begin</span></span><br><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line">call C:\Users\fz\anaconda3\condabin\conda.bat activate myjupyter</span><br><span class="line">jupyter notebook --no-browser --ip=<span class="string">&#x27;localhost&#x27;</span> --port=19981 --notebook-dir=D:\Works\Docs\fz-jupyter-notebook</span><br><span class="line"><span class="comment">#--- end</span></span><br><span class="line">start_myjupyter_on_startup.bat</span><br><span class="line"><span class="comment">#--- begin</span></span><br><span class="line">D:\Works\Docs\fz-jupyter-notebook\start_myjupyter.bat start /b</span><br><span class="line"><span class="comment">#--- end</span></span><br><span class="line">Win + R -&gt; shell:startup</span><br></pre></td></tr></table></figure></li>
<li>无需密码<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; jupyter notebook --generate-config</span><br><span class="line">c.NotebookApp.token = <span class="string">&#x27;&#x27;</span></span><br><span class="line">c.NotebookApp.password = <span class="string">&#x27;&#x27;</span></span><br></pre></td></tr></table></figure></li>
<li>使用 markdown TOC 生成目录大纲<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt; conda remove jupyter_nbextensions_configurator</span><br><span class="line">&gt; conda install -c conda-forge jupyter_nbextensions_configurator</span><br><span class="line">&gt; conda install -c conda-forge jupyter_contrib_nbextensions</span><br><span class="line">&gt; jupyter contrib nbextension install --user</span><br><span class="line">&gt; jupyter nbextensions_configurator <span class="built_in">enable</span> --user</span><br><span class="line"></span><br><span class="line">安装完成后，在 Jupyter Notebook 中打开要生成 TOC 的笔记本，并在菜单中选择 Edit -&gt; nbextensions config，勾选 Table of Contents (2) 并保存即可。</span><br><span class="line"></span><br><span class="line">请注意，此方法假定您已经正确安装并配置了 conda 环境，如果出现任何问题，请参阅 conda 文档或与 conda 社区寻求支持。</span><br></pre></td></tr></table></figure></li>
<li>在 vscode 中使用 jupyter<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; pip install -U ipykernel</span><br></pre></td></tr></table></figure></li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://findxyz.github.io/2023/01/15/Note/2022%20%E5%B7%A5%E4%BD%9C%E6%80%BB%E7%BB%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="FindxyZ">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="FindxyZ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/15/Note/2022%20%E5%B7%A5%E4%BD%9C%E6%80%BB%E7%BB%93/" class="post-title-link" itemprop="url">2022 工作总结</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-15 21:59:53" itemprop="dateCreated datePublished" datetime="2023-01-15T21:59:53+08:00">2023-01-15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-02-19 21:24:38" itemprop="dateModified" datetime="2023-02-19T21:24:38+08:00">2023-02-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AC%94%E8%AE%B0%E6%9C%AC/" itemprop="url" rel="index"><span itemprop="name">笔记本</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>时光荏苒，岁月如梭<br>一转眼，又要过年了</p>
<p>考虑到付总肯定已经把软件部的工作都总结完了<br>我再重复一遍容易让大家打瞌睡<br>所以我想说一些不太一样的，软件部的故事</p>
<h3 id="《NAS》-FJ"><a href="#《NAS》-FJ" class="headerlink" title="《NAS》 FJ"></a>《NAS》 FJ</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">有人可能知道，有人可能不知道，FJ，是信阳人</span><br><span class="line"></span><br><span class="line">一说到信阳人，我相信大家的第一反应都是信阳毛尖</span><br><span class="line"></span><br><span class="line">但我却不觉得 FJ 家是卖茶叶的，我觉得 FJ 家是卖电子产品的</span><br><span class="line"></span><br><span class="line">为什么这么说呢，因为通过我平时对 FJ 的观察</span><br><span class="line"></span><br><span class="line">我发现，FJ 在讲话时，总是会或明或暗，或直接或婉转，或正式或非正式的像你传达一些或者说是暗示一些信息，这些信息就是《网络存储器》，简称 NAS</span><br><span class="line"></span><br><span class="line">&quot;WZ 啊？你的 NAS 打印机网关搞得咋样了？&quot;</span><br><span class="line">&quot;差不多了，就等 HH 那边联调了&quot;</span><br><span class="line"></span><br><span class="line">&quot;HH 啊？你的 NAS 打印机盒子联调的咋样了？&quot;</span><br><span class="line">&quot;差不多了，就等 YF 那边小程序了&quot;</span><br><span class="line"></span><br><span class="line">&quot;YF 啊？你的 NAS。。。&quot;</span><br><span class="line">&quot;打住，我家里已经有 NAS 了&quot;</span><br></pre></td></tr></table></figure>

<h3 id="《诗人》-WZ"><a href="#《诗人》-WZ" class="headerlink" title="《诗人》 WZ"></a>《诗人》 WZ</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">知道的都知道，不知道的可能也知道</span><br><span class="line">软件部有一个诗人，一个写代码的诗人，WZ</span><br><span class="line">虽然 WZ 的代码诗写的很好，但是只有很少数的人能浏览到，多少有点遗憾</span><br><span class="line">借着今天这个机会，我想试着翻译一下诗人的代码</span><br><span class="line">让大家一起感受一下诗人的魅力</span><br><span class="line"></span><br><span class="line">同样一件事，诗人会这么写</span><br><span class="line"></span><br><span class="line">诗人：</span><br><span class="line">    夜幕降临</span><br><span class="line">    佩德奥德又开始了魔法表演</span><br><span class="line">    它挥动着魔法棒</span><br><span class="line">    指引着电流精灵们</span><br><span class="line">    去到他们该去的地方</span><br><span class="line">    // 佩德奥德 = PayedOrder</span><br><span class="line"></span><br><span class="line">而我们普通人可能就会这么说</span><br><span class="line"></span><br><span class="line">普通人：</span><br><span class="line">    下班回家扫码充电</span><br></pre></td></tr></table></figure>

<h3 id="《马里奥赛车-8》老板"><a href="#《马里奥赛车-8》老板" class="headerlink" title="《马里奥赛车 8》老板"></a>《马里奥赛车 8》老板</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">最后，我想再说最后一句话</span><br><span class="line"></span><br><span class="line">大家都知道，一般最后一句话都比较的重要，比如，来时候的火车票谁给报了</span><br><span class="line"></span><br><span class="line">同样重要的还有程序上的时间，很多时候我们在排查处理问题时，对时间的查询都要精确到秒</span><br><span class="line"></span><br><span class="line">就好比说，在 428 天 20 小时 36 分 58 秒前，在 6 号楼，王总对我说，&quot;明天把你的马里奥赛车 8 拿来让我玩《两天》呗&quot;</span><br><span class="line"></span><br><span class="line">从那以后我就没再见过这张游戏卡了</span><br><span class="line"></span><br><span class="line">倒不是我记忆好，而是我儿子在把家里的几张游戏卡都玩腻了后，时不时的问我，&quot;爸爸，恁老板啥时候把你的赛车还给你啊？&quot;</span><br><span class="line"></span><br><span class="line">&quot;老板忙，事情多，肯定是忘了，等我找个合适的机会，合适的场合给你问问&quot;</span><br><span class="line"></span><br><span class="line">最后祝大家在新的一年里，突飞猛进，大展宏图，谢谢</span><br></pre></td></tr></table></figure>












      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://findxyz.github.io/2022/09/25/Research/%E7%88%AC%E8%99%AB%E9%9A%8F%E6%83%B3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="FindxyZ">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="FindxyZ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/09/25/Research/%E7%88%AC%E8%99%AB%E9%9A%8F%E6%83%B3/" class="post-title-link" itemprop="url">爬虫随想</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-09-25 11:26:53" itemprop="dateCreated datePublished" datetime="2022-09-25T11:26:53+08:00">2022-09-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-10-05 21:19:40" itemprop="dateModified" datetime="2022-10-05T21:19:40+08:00">2022-10-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8E%A2%E7%B4%A2%E5%8F%91%E7%8E%B0/" itemprop="url" rel="index"><span itemprop="name">探索发现</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">网络爬虫是模拟浏览器发送网络请求，接收请求响应，按照一定的规则，自动地抓取互联网信息的程序。</span><br></pre></td></tr></table></figure>

<h1 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h1><h2 id="静态参数生成"><a href="#静态参数生成" class="headerlink" title="静态参数生成"></a>静态参数生成</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">爬虫通常需要对目标进行多次请求，且每次请求包含不同目的的请求参数，</span><br><span class="line">所以参数方便的生成可以对之后的请求阶段将有很大的帮助。</span><br></pre></td></tr></table></figure>

<h2 id="静态参数数据源"><a href="#静态参数数据源" class="headerlink" title="静态参数数据源"></a>静态参数数据源</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">生成的参数可能会使用多次（例如：城市坐标点），</span><br><span class="line">所以将参数进行保存，方便其他爬虫任务使用。</span><br></pre></td></tr></table></figure>

<h2 id="动态参数"><a href="#动态参数" class="headerlink" title="动态参数"></a>动态参数</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">爬虫的请求经常会遇到需要 token 或者 cookie 的情况，这些 token 或 cookie 是有有效时间的，</span><br><span class="line">当有效时间过期后，需要对这些参数进行替换更新以继续请求，故而称之为动态参数。</span><br></pre></td></tr></table></figure>

<h2 id="动态参数代理"><a href="#动态参数代理" class="headerlink" title="动态参数代理"></a>动态参数代理</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">动态参数可以通过手工的方式进行替换，但是操作会比较繁琐，且得有人进行参与，无法完全自动化，这样就使得效率大大折扣。</span><br><span class="line">为了弥补这一缺憾，要有一种方法能自动捕获 token 或 cookie。</span><br><span class="line">一种方法是进行自动登录，但这种方式往往面对着复杂高深的反爬技术，很有可能无法实现。</span><br><span class="line">另一种方法是通过模拟正常操作但是对操作过程中的数据进行捕获，</span><br><span class="line">然后获取其中所需要的数据，其原理类似于抓包工具中的 Charles 或者 Fiddle。</span><br></pre></td></tr></table></figure>

<h2 id="爬虫代理"><a href="#爬虫代理" class="headerlink" title="爬虫代理"></a>爬虫代理</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">直接请求会暴露自己的源 ip，为了隐藏的目的可能需要使用代理进行请求访问。</span><br></pre></td></tr></table></figure>

<h2 id="爬虫任务"><a href="#爬虫任务" class="headerlink" title="爬虫任务"></a>爬虫任务</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">具体的一次爬取任务。</span><br><span class="line">所需要准备的数据有，爬取目标的请求参数，爬取目标的认证参数，下一个请求任务（任务链），响应数据的处理脚本。</span><br></pre></td></tr></table></figure>

<h3 id="任务链"><a href="#任务链" class="headerlink" title="任务链"></a>任务链</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">一次爬取任务可能会有多个请求发出，相互之间可能还会有顺序的串联，所以要有一个任务链。</span><br></pre></td></tr></table></figure>

<h3 id="请求任务"><a href="#请求任务" class="headerlink" title="请求任务"></a>请求任务</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">包含有静态与动态参数的一次网络请求。</span><br></pre></td></tr></table></figure>

<h3 id="处理任务"><a href="#处理任务" class="headerlink" title="处理任务"></a>处理任务</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">任务请求回来后的处理脚本程序。</span><br></pre></td></tr></table></figure>

<h2 id="爬虫结果处理"><a href="#爬虫结果处理" class="headerlink" title="爬虫结果处理"></a>爬虫结果处理</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">爬虫爬取后的数据要经过筛选与处理，最后保存为爬取结果。</span><br></pre></td></tr></table></figure>

<h1 id="表结构"><a href="#表结构" class="headerlink" title="表结构"></a>表结构</h1><h2 id="param-summary-参数概览"><a href="#param-summary-参数概览" class="headerlink" title="param_summary 参数概览"></a>param_summary 参数概览</h2><table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>BIGINT</td>
<td></td>
</tr>
<tr>
<td>type</td>
<td>VARCHAR</td>
<td>参数类型，static 静态参数，dynamic 动态参数</td>
</tr>
<tr>
<td>name</td>
<td>VARCHAR</td>
<td>参数名称</td>
</tr>
<tr>
<td>count</td>
<td>INT</td>
<td>参数数量</td>
</tr>
<tr>
<td>is_enabled</td>
<td>BOOLEAN</td>
<td>是否有效</td>
</tr>
</tbody></table>
<h2 id="param-参数"><a href="#param-参数" class="headerlink" title="param 参数"></a>param 参数</h2><table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>BIGINT</td>
<td></td>
</tr>
<tr>
<td>name</td>
<td>VARCHAR</td>
<td>参数名称</td>
</tr>
<tr>
<td>content</td>
<td>VARCHAR</td>
<td>参数内容</td>
</tr>
<tr>
<td>seq_no</td>
<td>INT</td>
<td>序号</td>
</tr>
</tbody></table>
<h2 id="task-任务"><a href="#task-任务" class="headerlink" title="task 任务"></a>task 任务</h2><table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>BIGINT</td>
<td></td>
</tr>
<tr>
<td>type</td>
<td>VARCHAR</td>
<td>任务类型，collect 数据采集，fight 资源争夺</td>
</tr>
<tr>
<td>name</td>
<td>VARCHAR</td>
<td>任务名称</td>
</tr>
<tr>
<td>static_param</td>
<td>VARCHAR</td>
<td>静态参数</td>
</tr>
<tr>
<td>dynamic_param</td>
<td>VARCHAR</td>
<td>动态参数</td>
</tr>
<tr>
<td>repeat_times</td>
<td>INT</td>
<td>重复次数</td>
</tr>
<tr>
<td>is_enabled</td>
<td>BOOLEAN</td>
<td>是否有效</td>
</tr>
</tbody></table>
<h2 id="task-script-任务脚本"><a href="#task-script-任务脚本" class="headerlink" title="task_script 任务脚本"></a>task_script 任务脚本</h2><table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>BIGINT</td>
<td></td>
</tr>
<tr>
<td>task_name</td>
<td>VARCHAR</td>
<td>任务名称</td>
</tr>
<tr>
<td>content</td>
<td>VARCHAR</td>
<td>脚本内容</td>
</tr>
</tbody></table>
<h2 id="task-query-任务请求"><a href="#task-query-任务请求" class="headerlink" title="task_query 任务请求"></a>task_query 任务请求</h2><table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>BIGINT</td>
<td></td>
</tr>
<tr>
<td>task_name</td>
<td>VARCHAR</td>
<td>任务名称</td>
</tr>
<tr>
<td>static_param</td>
<td>VARCHAR</td>
<td>静态参数</td>
</tr>
<tr>
<td>static_seq_no</td>
<td>INT</td>
<td>静态参数序号</td>
</tr>
<tr>
<td>dynamic_param</td>
<td>VARCHAR</td>
<td>静态参数</td>
</tr>
<tr>
<td>status</td>
<td>VARCHAR</td>
<td>请求状态，init 待请求，success 请求成功，failure 请求失败</td>
</tr>
<tr>
<td>remark</td>
<td>VARCHAR</td>
<td>备注，失败原因等</td>
</tr>
</tbody></table>
<h2 id="task-result-任务结果"><a href="#task-result-任务结果" class="headerlink" title="task_result 任务结果"></a>task_result 任务结果</h2><table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>BIGINT</td>
<td></td>
</tr>
<tr>
<td>task_name</td>
<td>VARCHAR</td>
<td>任务名称</td>
</tr>
<tr>
<td>result</td>
<td>VARCHAR</td>
<td>任务结果</td>
</tr>
</tbody></table>
<img src="\assert\puml\a7dd4372c5f70ca0afc6e84959da8bb34e58257c1098250e5537bfe2042fc0f2.svg"/>


<p>​<img src="\assert\puml\345eb79bb1b9b975e3bb9e6cdf4795a0195e4c9142ab42ca8835ce4a616fc0d9.svg"/></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://findxyz.github.io/2022/09/08/Note/2022%20%E6%BC%94%E8%AE%B2%E7%AC%94%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="FindxyZ">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="FindxyZ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/09/08/Note/2022%20%E6%BC%94%E8%AE%B2%E7%AC%94%E8%AE%B0/" class="post-title-link" itemprop="url">演讲笔记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-09-08 21:12:53" itemprop="dateCreated datePublished" datetime="2022-09-08T21:12:53+08:00">2022-09-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-09-25 21:25:06" itemprop="dateModified" datetime="2022-09-25T21:25:06+08:00">2022-09-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AC%94%E8%AE%B0%E6%9C%AC/" itemprop="url" rel="index"><span itemprop="name">笔记本</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="演讲笔记"><a href="#演讲笔记" class="headerlink" title="演讲笔记"></a>演讲笔记</h2><p><code>时光荏苒，岁月如梭</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">一转眼，我来公司已是第三个年头</span><br></pre></td></tr></table></figure>

<p><code>三年里，我看到了</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">用户从 XXX 增长到了 XXX</span><br><span class="line">商家从 XXX 多家增长到了近 XXX 家</span><br><span class="line">设备从 XXX 多台增长到了 XXX 多台</span><br><span class="line">设备的销售额从 XXX 多万增长到了现在的 XXX 多万</span><br></pre></td></tr></table></figure>

<p><code>三年里，我经历了</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">两轮车充电系统从 A 到 B 的升级</span><br><span class="line">Meet、Go、Bell、系统的诞生</span><br><span class="line">OEM、开放平台、私有化部署的从无到有</span><br><span class="line">以及 QCZ 系统和 CRM 等等</span><br></pre></td></tr></table></figure>

<p><code>三年里，我参加了</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">两次尧山大漂流，第一次的漂流很豪华，漂完我直接有了个新手机，第二次我选择不带手机</span><br><span class="line">还有一次爬山徒步，差点没把腿爬断</span><br></pre></td></tr></table></figure>

<p><code>最近的一年里</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">我还和不同部门的同事一起亲切友好的开展了数十次狼人杀比赛</span><br><span class="line">并且在游戏的过程中慢慢培养出了，如果不知道杀谁就杀王静的默契</span><br></pre></td></tr></table></figure>

<p><code>蓦然回首</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">面对三年的过往，我默默的问自己，你印象里最深刻的是什么</span><br><span class="line">说起来也怪的很，最近的事，以及 20、21 年我并没有十分印象深刻的事</span><br><span class="line">反倒是 19 年，曾经的 15 号楼，我却能很清晰的回忆起过往</span><br></pre></td></tr></table></figure>

<p><code>欢乐时光</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">回忆里，我仿佛看到了银龙和喜缘，他们就坐在 15 号楼的门口，那时的他们很瘦</span><br><span class="line">回忆里，我看到了小明哥与付继的对话，我准备把订单重构。重构要几天啊？两天吧！卧槽？两天？两天够吗</span><br><span class="line">回忆里，我看到了我第一次见到王总。那是我来公司没几天的时候，王总把公司的人都聚集起来，</span><br><span class="line">好像是说的公司三周年举行活动的事情，由于那时候我不认识王总，我以为王总是行政，</span><br><span class="line">我心里想，这个行政好厉害啊，嗓门这么大，跟老板似的，后来我才知道原来王总真的是老板</span><br></pre></td></tr></table></figure>

<p><code>至暗时刻</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">以上的回忆欢乐成分居多，但是印象最深刻的还要属 XXXXXXXX 事件</span><br><span class="line">这是 B 系统的上线时间，也是连续宕机 X 天的时间</span><br><span class="line">由于 A 设备网关性能及设计的原因，大量的设备同时注册造成网关系统崩溃，</span><br><span class="line">充电系统无法使用，销售同事电话被打爆，老板电话被打爆，那时每个人的压力都很大</span><br><span class="line">在经历了三天大量的尝试修改，最后终于通过模拟设备压测找到了原因，并通过限流的方式使得设备终于得以上线系统恢复正常</span><br></pre></td></tr></table></figure>

<p><code>痛定思痛</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">在经历了这次重大事故后，新网关的开发迫在眉睫，在那时我们的网关小王子，王哲同学还没来，小明哥就把这个任务交给了我</span><br><span class="line">我深感责任重大，所以我吸取了老网关的经验及教训，在设计之初就严格测试，</span><br><span class="line">并同时开发了客户端进行性能压测，最终成功完成任务，顺利上线</span><br><span class="line">截至到目前为止，新网关承载了线上 XXXX 多台设备的平稳运行</span><br></pre></td></tr></table></figure>

<p><code>寄语希望</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">旧的三年即将结束，新的三年即将开始</span><br><span class="line">我们的 XXX 系统作为新三年的萌芽也要开始他的征程，开始他的成长与历练</span><br></pre></td></tr></table></figure>

<p><code>收尾结束</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">最后，我想用一句网络流行语来祝福新的三年以及结束这次发言</span><br><span class="line"></span><br><span class="line">让我们拭目以待吧</span><br><span class="line"></span><br><span class="line">谢谢大家</span><br></pre></td></tr></table></figure>



      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://findxyz.github.io/2022/07/08/Lab/MQTT/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="FindxyZ">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="FindxyZ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/07/08/Lab/MQTT/" class="post-title-link" itemprop="url">MQTT 实验</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-07-08 14:45:20" itemprop="dateCreated datePublished" datetime="2022-07-08T14:45:20+08:00">2022-07-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-09-25 21:26:08" itemprop="dateModified" datetime="2022-09-25T21:26:08+08:00">2022-09-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AE%9E%E9%AA%8C%E5%AE%A4/" itemprop="url" rel="index"><span itemprop="name">实验室</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="MQTT-在-RabbitMQ-中的使用"><a href="#MQTT-在-RabbitMQ-中的使用" class="headerlink" title="MQTT 在 RabbitMQ 中的使用"></a>MQTT 在 RabbitMQ 中的使用</h2><h3 id="1-开启-MQTT-插件"><a href="#1-开启-MQTT-插件" class="headerlink" title="1 开启 MQTT 插件"></a>1 开启 MQTT 插件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">rabbitmq-plugins <span class="built_in">enable</span> rabbitmq_mqtt // 开启 rabbitmq_mqtt 对应端口 1883</span><br><span class="line">rabbitmq-plugins <span class="built_in">enable</span> rabbitmq_web_mqtt // 开启 rabbitmq_web_mqtt 对应端口 15675</span><br><span class="line">开启后可以在 RabbitMQ 控制台的 Overview 中的 Ports and contexts 中查看到</span><br></pre></td></tr></table></figure>

<h3 id="2-创建一个类型为-topic-的交换机-MQTT"><a href="#2-创建一个类型为-topic-的交换机-MQTT" class="headerlink" title="2 创建一个类型为 topic 的交换机 MQTT"></a>2 创建一个类型为 topic 的交换机 MQTT</h3><h3 id="3-使用-MQTTX-客户端进行测试-下载地址"><a href="#3-使用-MQTTX-客户端进行测试-下载地址" class="headerlink" title="3 使用 MQTTX 客户端进行测试 下载地址"></a>3 使用 MQTTX 客户端进行测试 <a target="_blank" rel="noopener" href="https://mqttx.app/zh">下载地址</a></h3><h3 id="参考链接：使用RabbitMQ搭建MQTT服务"><a href="#参考链接：使用RabbitMQ搭建MQTT服务" class="headerlink" title="参考链接：使用RabbitMQ搭建MQTT服务"></a><a target="_blank" rel="noopener" href="https://www.cnblogs.com/motion/p/14974024.html">参考链接：使用RabbitMQ搭建MQTT服务</a></h3>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://findxyz.github.io/2022/05/30/Lab/Jenkins/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="FindxyZ">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="FindxyZ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/05/30/Lab/Jenkins/" class="post-title-link" itemprop="url">Jenkins 实验</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-05-30 22:04:25" itemprop="dateCreated datePublished" datetime="2022-05-30T22:04:25+08:00">2022-05-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-08-16 21:26:33" itemprop="dateModified" datetime="2022-08-16T21:26:33+08:00">2022-08-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AE%9E%E9%AA%8C%E5%AE%A4/" itemprop="url" rel="index"><span itemprop="name">实验室</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Jenkins-使用手册"><a href="#Jenkins-使用手册" class="headerlink" title="Jenkins 使用手册"></a>Jenkins 使用手册</h1><h2 id="1、Jenkins-安装-https-www-jenkins-io-zh"><a href="#1、Jenkins-安装-https-www-jenkins-io-zh" class="headerlink" title="1、Jenkins 安装 https://www.jenkins.io/zh/"></a>1、Jenkins 安装 <a target="_blank" rel="noopener" href="https://www.jenkins.io/zh/">https://www.jenkins.io/zh/</a></h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -DJENKINS_HOME=E:/Labs/jenkins/.jenkins -jar jenkins.war</span><br></pre></td></tr></table></figure>

<h2 id="2、插件安装"><a href="#2、插件安装" class="headerlink" title="2、插件安装"></a>2、插件安装</h2><ul>
<li>Role-based Authorization Strategy<ul>
<li>Configure Global Security -&gt; Role-Based Strategy</li>
<li>Manage Users -&gt; Add New User</li>
<li>Manage and Assign Roles<ul>
<li>Manage Roles<ul>
<li>Add New Role<ul>
<li>e.g. role: DEV</li>
</ul>
</li>
<li>Add New Item Role<ul>
<li>e.g. role: DEV, pattern: DEV_.*</li>
<li>Job Matches [DEV_.*] Will Show For Item Role [DEV]</li>
</ul>
</li>
<li>Add New Node Role<ul>
<li>e.g. role: DEV, pattern: DEV_.*</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>Assign Roles<ul>
<li>Global Role</li>
<li>Item Role</li>
<li>Node Role</li>
</ul>
</li>
</ul>
</li>
<li>Publish Over SSH<ul>
<li>Configure System<ul>
<li>Publish over SSH -&gt; SSH Servers</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="3、自由构建示例"><a href="#3、自由构建示例" class="headerlink" title="3、自由构建示例"></a>3、自由构建示例</h2><ul>
<li>源码管理<ul>
<li>仓库</li>
<li>分支</li>
<li>授权</li>
<li>源码库浏览器<ul>
<li>地址</li>
<li>版本</li>
</ul>
</li>
</ul>
</li>
<li>构建环境<ul>
<li>增加 ChangeLog 环境变量 (1)</li>
<li>格式化 ChangeLog 参数</li>
<li>发送 ChangeLog WebHook 通知</li>
</ul>
</li>
<li>构建<ul>
<li>gradle -&gt; clean :application:build -x test</li>
<li>maven  -&gt; clean package -Dmaven.test.skip&#x3D;true</li>
<li>压缩打包 sh1.sh (2)</li>
<li>制品传输 sh2.sh (3)</li>
</ul>
</li>
<li>构建后操作<ul>
<li>构建通知</li>
</ul>
</li>
</ul>
<h3 id="1-ChangeLog-插件-https-github-com-findxyz-kr-jenkins-change-log"><a href="#1-ChangeLog-插件-https-github-com-findxyz-kr-jenkins-change-log" class="headerlink" title="(1) ChangeLog 插件 https://github.com/findxyz/kr-jenkins-change-log"></a>(1) ChangeLog 插件 <a target="_blank" rel="noopener" href="https://github.com/findxyz/kr-jenkins-change-log">https://github.com/findxyz/kr-jenkins-change-log</a></h3><h3 id="2-压缩打包脚本"><a href="#2-压缩打包脚本" class="headerlink" title="(2) 压缩打包脚本"></a>(2) 压缩打包脚本</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> <span class="variable">$&#123;WORKSPACE&#125;</span>/application</span><br><span class="line"><span class="built_in">cp</span> ./build/libs/application.jar .</span><br><span class="line">tar czvf application.tar.gz application.jar Dockerfile</span><br><span class="line"><span class="built_in">cp</span> application.tar.gz <span class="variable">$&#123;WORKSPACE&#125;</span>/</span><br></pre></td></tr></table></figure>
<h3 id="3-制品传输插件-Publish-Over-SSH"><a href="#3-制品传输插件-Publish-Over-SSH" class="headerlink" title="(3) 制品传输插件 Publish Over SSH"></a>(3) 制品传输插件 Publish Over SSH</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">Source Files</span><br><span class="line">    application.tar.gz</span><br><span class="line">Remote directory</span><br><span class="line">    application (under ssh server directory)</span><br><span class="line">Exec <span class="built_in">command</span></span><br><span class="line">    <span class="built_in">cd</span> /opt/deploy/application</span><br><span class="line">    tar zxvf application.tar.gz</span><br><span class="line">    sh deploy.sh</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Execute Shell Finish&quot;</span></span><br><span class="line"></span><br><span class="line">--- deploy.sh ---</span><br><span class="line"><span class="comment">#!/usr/bin/bash</span></span><br><span class="line">DATE=$(<span class="built_in">date</span> +%Y%m%d%H%M%S)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 1.stop app</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;1.stop app&quot;</span></span><br><span class="line">pid=$(<span class="built_in">cat</span> pid)</span><br><span class="line"><span class="built_in">kill</span> -9 <span class="variable">$&#123;pid&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.start app</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;2.start app&quot;</span></span><br><span class="line"><span class="built_in">nohup</span> java -jar -Xms1024m -Xmx1024m -XX:-HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=dump -Dspring.profiles.active=dev -Dlogging.path=/opt/deploy/application/logs \</span><br><span class="line">application.jar &gt; /opt/deploy/application/application.log 2&gt;&amp;1 &amp;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.store pid</span></span><br><span class="line"><span class="built_in">echo</span> $! &gt; pid</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4.check app</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;4.check app&quot;</span></span><br><span class="line">online=<span class="literal">false</span></span><br><span class="line">check_url=http://127.0.0.1:9443</span><br><span class="line"></span><br><span class="line">sleep_time=10</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> `<span class="built_in">seq</span> 10`</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">  <span class="built_in">sleep</span> <span class="variable">$sleep_time</span></span><br><span class="line">  code=`curl -sL --connect-timeout 20 --max-time 30 -w <span class="string">&quot;%&#123;http_code&#125;\\n&quot;</span> <span class="string">&quot;<span class="variable">$&#123;check_url&#125;</span>&quot;</span> -o /dev/null`</span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;check status: <span class="variable">$code</span>&quot;</span></span><br><span class="line">  <span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$&#123;code&#125;</span>&quot;</span> = <span class="string">&quot;200&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    online=<span class="literal">true</span></span><br><span class="line">    <span class="built_in">break</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;check retry after <span class="variable">$&#123;sleep_time&#125;</span>s&quot;</span></span><br><span class="line">  <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="variable">$online</span>; <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;check successful&quot;</span></span><br><span class="line">  <span class="built_in">exit</span> 0</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;check failure&quot;</span></span><br><span class="line">  <span class="built_in">exit</span> 1</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>

<h2 id="4、Pipeline-构建示例"><a href="#4、Pipeline-构建示例" class="headerlink" title="4、Pipeline 构建示例"></a>4、Pipeline 构建示例</h2><p><code>流水线语法生成器</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">pipeline &#123;</span><br><span class="line">    agent any</span><br><span class="line"></span><br><span class="line">    tools &#123;</span><br><span class="line">        // Install the Maven version configured as &quot;M3&quot; and add it to the path.</span><br><span class="line">        gradle &quot;Gradle-4.4.1&quot;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    stages &#123;</span><br><span class="line">        stage(&#x27;Build&#x27;) &#123;</span><br><span class="line">            steps &#123;</span><br><span class="line">                // Get some code from a GitHub repository</span><br><span class="line">                git credentialsId: &#x27;application-git&#x27;, url: &#x27;http://localhost/application.git&#x27;</span><br><span class="line">                // Run Maven on a Unix agent.</span><br><span class="line">                // sh &quot;gradle :application:build -x test&quot;</span><br><span class="line">                // To run Maven on a Windows agent, use</span><br><span class="line">                bat &quot;gradle :application:build -x test&quot;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        stage(&#x27;Transfer&#x27;) &#123;</span><br><span class="line">            steps &#123;</span><br><span class="line">                print &quot;$&#123;WORKSPACE&#125;&quot;</span><br><span class="line">                sshPublisher(publishers: [sshPublisherDesc(configName: &#x27;localhost&#x27;, transfers: [sshTransfer(cleanRemote: false, excludes: &#x27;&#x27;, execCommand: &#x27;&#x27;, execTimeout: 120000, flatten: false, makeEmptyDirs: false, noDefaultExcludes: false, patternSeparator: &#x27;[, ]+&#x27;, remoteDirectory: &#x27;application&#x27;, remoteDirectorySDF: false, removePrefix: &#x27;&#x27;, sourceFiles: &#x27;README.md&#x27;)], usePromotionTimestamp: false, useWorkspaceInPromotion: false, verbose: false)])</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>







      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://findxyz.github.io/2022/05/23/Book/%E5%BE%AE%E8%A7%82%E7%BB%8F%E6%B5%8E%E5%AD%A6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="FindxyZ">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="FindxyZ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/05/23/Book/%E5%BE%AE%E8%A7%82%E7%BB%8F%E6%B5%8E%E5%AD%A6/" class="post-title-link" itemprop="url">微观经济学笔记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-05-23 23:02:54" itemprop="dateCreated datePublished" datetime="2022-05-23T23:02:54+08:00">2022-05-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-08-16 21:26:33" itemprop="dateModified" datetime="2022-08-16T21:26:33+08:00">2022-08-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E4%B9%A6%E5%8C%85/" itemprop="url" rel="index"><span itemprop="name">书包</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="经济学十大原理"><a href="#经济学十大原理" class="headerlink" title="经济学十大原理"></a>经济学十大原理</h2><ul>
<li>人们如何做出决策？<ul>
<li>1、人们面临权衡取舍。<ul>
<li>例如：时间的分配。如果你用一小时学习，就必须放弃一小时娱乐或其他事。</li>
</ul>
</li>
<li>2、某种东西的成本是为了得到它所放弃的东西。<ul>
<li>机会成本。</li>
</ul>
</li>
<li>3、理性人思考边际量。<ul>
<li>生活中的许多决策很少是非黑即白的选择，而往往是介于其间的灰色地带。</li>
<li>边际成本，边际收益。</li>
</ul>
</li>
<li>4、人们会对激励做出反应。<ul>
<li>随着汽油价格的飙升，顾客们拥向新能源车。</li>
<li>汽油价格让乘车者涌入公共交通。</li>
</ul>
</li>
</ul>
</li>
<li>人们如何相互影响？<ul>
<li>5、贸易可以使每个人的状况都变得更好。<ul>
<li>贸易使每个人都可以专门从事自己最擅长的活动。</li>
<li>通过与他人贸易，人们可以以较低的成本获得各种各样的物品与服务。</li>
</ul>
</li>
<li>6、市场通常是组织经济活动的一种好方法。<ul>
<li>亚当•斯密与看不见的手。</li>
<li>我们每天所需的食物和饮料，不是出自屠户、酿酒师或面包师的恩惠，而是出自他们利己的打算。</li>
<li>经济参与者受利己心所驱动，而市场上这只看不见的手指引这种利己心去促进总体的经济福利。</li>
</ul>
</li>
<li>7、政府有时可以改善市场结果。<ul>
<li>市场失灵<ul>
<li>外部性（一个人的行为对旁观者福利的影响），典型的例子是污染。</li>
<li>市场势力（单个经济活动者（或某个经济活动小群体）对市场价格有显著影响的能力），例如垄断。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>整体经济如何运行？<ul>
<li>8、一国的生活水平取决于它生产物品与服务的能力。<ul>
<li>生产力是生活水平的最终根源。</li>
</ul>
</li>
<li>9、当政府发行了过多货币时，物价上升。<ul>
<li>货币量的增长是通货膨胀的最终根源。</li>
</ul>
</li>
<li>10、社会面临通货膨胀与失业之间的短期权衡取舍。<ul>
<li>经济存在周期，信贷产生周期（短期债务周期，长期债务周期），周期引起波动。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="像经济学家一样思考"><a href="#像经济学家一样思考" class="headerlink" title="像经济学家一样思考"></a>像经济学家一样思考</h2><ul>
<li>经济模型<ul>
<li>循环流量图。</li>
<li>生产可能性边界。</li>
</ul>
</li>
<li>微观经济学与宏观经济学<ul>
<li>微观：研究家庭和企业如何做出决策，以及它们如何在市场上相互交易的学科。</li>
<li>宏观：研究整体经济现象，包括通货膨胀、失业和经济增长的学科。</li>
</ul>
</li>
<li>实证分析与规范分析<ul>
<li>实证表述：试图描述世界是什么样子的观点。</li>
<li>规范表述：试图描述世界应该是什么样子的观点。</li>
<li>价值观的不同。</li>
</ul>
</li>
<li>斜率<ul>
<li>纵轴变动距离与横轴变动距离的比率（斜率&#x3D;DeltaY &#x2F; DeltaX）。</li>
</ul>
</li>
<li>原因和结果<ul>
<li>被忽略的变量。</li>
<li>反向因果关系。</li>
</ul>
</li>
</ul>
<h2 id="相互依存性与贸易的好处"><a href="#相互依存性与贸易的好处" class="headerlink" title="相互依存性与贸易的好处"></a>相互依存性与贸易的好处</h2><ul>
<li>生产可能性</li>
<li>专业化与贸易<ul>
<li>绝对优势<ul>
<li>一个生产者用比另一个生产者更少的投入生产某种物品的能力。</li>
</ul>
</li>
<li>比较优势<ul>
<li>一个生产者以低于另一个生产者的机会成本生产某种物品的能力。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="供给与需求的市场力量"><a href="#供给与需求的市场力量" class="headerlink" title="供给与需求的市场力量"></a>供给与需求的市场力量</h2><ul>
<li>市场<ul>
<li>由某种物品或服务的买者与卖者组成的一个群体。</li>
</ul>
</li>
<li>竞争市场<ul>
<li>有许多买者与卖者，以至于每个人对市场价格的影响微乎其微的市场。</li>
</ul>
</li>
<li>需求<ul>
<li>需求量<ul>
<li>买者愿意并且能够购买的一种物品的数量。</li>
</ul>
</li>
<li>需求定理<ul>
<li>认为在其他条件不变时，一种物品的价格上升，对该物品的需求量减少的观点。</li>
</ul>
</li>
<li>需求表<ul>
<li>表示一种物品的价格与需求量之间关系的表格。</li>
</ul>
</li>
<li>需求曲线<ul>
<li>表示一种物品的价格与需求量之间关系的图形。</li>
</ul>
</li>
</ul>
</li>
<li>供给<ul>
<li>供给量<ul>
<li>卖者愿意并且能够出售的一种物品的数量。</li>
</ul>
</li>
<li>供给定理<ul>
<li>认为在其他条件不变时，一种物品的价格上升，该物品的供给量增加的观点。</li>
</ul>
</li>
<li>供给表<ul>
<li>表示一种物品的价格与供给量之间关系的表格。</li>
</ul>
</li>
<li>供给曲线<ul>
<li>表示一种物品的价格与供给量之间关系的图形。</li>
</ul>
</li>
</ul>
</li>
<li>均衡<ul>
<li>市场价格达到使供给量与需求量相等的水平时的状态。</li>
<li>均衡价格<ul>
<li>使供给与需求平衡的价格。</li>
</ul>
</li>
<li>均衡数量<ul>
<li>均衡价格下的供给量与需求量。</li>
</ul>
</li>
<li>过剩<ul>
<li>供给量大于需求量的状态。</li>
</ul>
</li>
<li>短缺<ul>
<li>需求量大于供给量的状态。</li>
</ul>
</li>
<li>供求定理<ul>
<li>认为任何一种物品的价格都会自发调整，使该物品的供给与需求达到平衡的观点。</li>
</ul>
</li>
</ul>
</li>
<li>分析均衡变动的三个步骤<ul>
<li>确定该事件是使供给曲线移动还是使需求曲线移动（还是两者都移动）。</li>
<li>确定曲线移动的方向。</li>
<li>用供求图说明这种移动如何改变均衡价格与均衡数量。</li>
</ul>
</li>
</ul>
<h3 id="影响买者的变量"><a href="#影响买者的变量" class="headerlink" title="影响买者的变量"></a>影响买者的变量</h3><table>
<thead>
<tr>
<th>变量</th>
<th>这些变量的变动将</th>
</tr>
</thead>
<tbody><tr>
<td>价格</td>
<td>表现为沿着需求曲线的变动</td>
</tr>
<tr>
<td>收入</td>
<td>使需求曲线移动</td>
</tr>
<tr>
<td>相关物品的价格</td>
<td>使需求曲线移动</td>
</tr>
<tr>
<td>爱好</td>
<td>使需求曲线移动</td>
</tr>
<tr>
<td>预期</td>
<td>使需求曲线移动</td>
</tr>
<tr>
<td>买者的数量</td>
<td>使需求曲线移动</td>
</tr>
</tbody></table>
<h3 id="影响卖者的变量"><a href="#影响卖者的变量" class="headerlink" title="影响卖者的变量"></a>影响卖者的变量</h3><table>
<thead>
<tr>
<th>变量</th>
<th>这些变量的变动将</th>
</tr>
</thead>
<tbody><tr>
<td>价格</td>
<td>表现为沿着供给曲线的变动</td>
</tr>
<tr>
<td>投入品价格</td>
<td>使供给曲线移动</td>
</tr>
<tr>
<td>技术</td>
<td>使供给曲线移动</td>
</tr>
<tr>
<td>预期</td>
<td>使供给曲线移动</td>
</tr>
<tr>
<td>卖者的数量</td>
<td>使供给曲线移动</td>
</tr>
</tbody></table>
<h3 id="当供给或需求移动时，价格和数量会发生什么变动"><a href="#当供给或需求移动时，价格和数量会发生什么变动" class="headerlink" title="当供给或需求移动时，价格和数量会发生什么变动"></a>当供给或需求移动时，价格和数量会发生什么变动</h3><table>
<thead>
<tr>
<th></th>
<th>供给未变</th>
<th>供给增加</th>
<th>供给减少</th>
</tr>
</thead>
<tbody><tr>
<td>需求未变</td>
<td>价格相同，数量相同</td>
<td>价格下降，数量增加</td>
<td>价格上升，数量减少</td>
</tr>
<tr>
<td>需求增加</td>
<td>价格上升，数量增加</td>
<td>价格不确定，数量增加</td>
<td>价格上升，数量不确定</td>
</tr>
<tr>
<td>需求减少</td>
<td>价格下降，数量减少</td>
<td>价格下降，数量不确定</td>
<td>价格不确定，数量减少</td>
</tr>
</tbody></table>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://findxyz.github.io/2022/05/23/Database/MySQL%20%E4%BA%8B%E5%8A%A1%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="FindxyZ">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="FindxyZ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/05/23/Database/MySQL%20%E4%BA%8B%E5%8A%A1%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB/" class="post-title-link" itemprop="url">MySQL 隔离级别</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-05-23 22:06:23" itemprop="dateCreated datePublished" datetime="2022-05-23T22:06:23+08:00">2022-05-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-08-16 21:26:33" itemprop="dateModified" datetime="2022-08-16T21:26:33+08:00">2022-08-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" itemprop="url" rel="index"><span itemprop="name">数据库</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <table>
<thead>
<tr>
<th align="left">隔离级别</th>
<th align="left">脏读</th>
<th align="left">不可重复读</th>
<th align="left">幻读</th>
</tr>
</thead>
<tbody><tr>
<td align="left">读未提交(Read Uncommitted)</td>
<td align="left">yes</td>
<td align="left">yes</td>
<td align="left">yes</td>
</tr>
<tr>
<td align="left">读已提交(Read Committed)</td>
<td align="left">no</td>
<td align="left">yes</td>
<td align="left">yes</td>
</tr>
<tr>
<td align="left">可重复读(Repeatable Read)</td>
<td align="left">no</td>
<td align="left">no</td>
<td align="left">yes</td>
</tr>
<tr>
<td align="left">可串行化(Serializable)</td>
<td align="left">no</td>
<td align="left">no</td>
<td align="left">no</td>
</tr>
</tbody></table>
<h2 id="什么是幻读？"><a href="#什么是幻读？" class="headerlink" title="什么是幻读？"></a>什么是幻读？</h2><p>幻读指的是一个事务在前后两次查询同一个范围的时候，后一次查询看到了前一次查询没有看到的行。</p>
<h2 id="如何避免幻读实现可重复读？"><a href="#如何避免幻读实现可重复读？" class="headerlink" title="如何避免幻读实现可重复读？"></a>如何避免幻读实现可重复读？</h2><p>对数据加锁。</p>
<ul>
<li>行锁 Record Lock</li>
<li>间隙锁 Gap Lock</li>
<li>行锁 + 间隙锁 Next-Key Log</li>
</ul>
<h2 id="可重复读下的加锁规则是什么？"><a href="#可重复读下的加锁规则是什么？" class="headerlink" title="可重复读下的加锁规则是什么？"></a>可重复读下的加锁规则是什么？</h2><p>以下内容来自林晓斌的 MySQL 实战 45 讲。</p>
<img src="\assert\puml\c8818e470c73f2fab85c330b5850ff7aa337923900f46e787225dd6ab8421116.svg"/>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `test` (</span><br><span class="line">    `id` <span class="type">bigint</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;ID&#x27;</span>,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (`id`) <span class="keyword">USING</span> BTREE</span><br><span class="line">) ENGINE <span class="operator">=</span> InnoDB AUTO_INCREMENT <span class="operator">=</span> <span class="number">1</span> <span class="type">CHARACTER</span> <span class="keyword">SET</span> <span class="operator">=</span> utf8mb4 <span class="keyword">COLLATE</span> <span class="operator">=</span> utf8mb4_general_ci COMMENT <span class="operator">=</span> <span class="string">&#x27;test&#x27;</span> ROW_FORMAT <span class="operator">=</span> <span class="keyword">DYNAMIC</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 隔离级别</span></span><br><span class="line"><span class="keyword">SELECT</span> @<span class="variable">@global</span>.transaction_isolation;</span><br><span class="line"><span class="keyword">SELECT</span> @<span class="variable">@session</span>.transaction_isolation;</span><br><span class="line"><span class="keyword">SELECT</span> @<span class="variable">@transaction</span>_isolation;</span><br><span class="line"><span class="keyword">show</span> variables <span class="keyword">like</span> <span class="string">&#x27;%iso%&#x27;</span>;</span><br><span class="line"><span class="keyword">show</span> <span class="keyword">global</span> variables <span class="keyword">like</span> <span class="string">&#x27;%iso%&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 设置隔离级别</span></span><br><span class="line"><span class="keyword">SET</span> SESSION TRANSACTION ISOLATION LEVEL read uncommitted;</span><br><span class="line"><span class="keyword">SET</span> SESSION TRANSACTION ISOLATION LEVEL read committed;</span><br><span class="line"><span class="keyword">SET</span> SESSION TRANSACTION ISOLATION LEVEL repeatable read;</span><br><span class="line"><span class="keyword">SET</span> SESSION TRANSACTION ISOLATION LEVEL serializable;</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="left">SESSION A</th>
<th align="left">SESSION B</th>
</tr>
</thead>
<tbody><tr>
<td align="left">SET SESSION TRANSACTION ISOLATION LEVEL read committed;</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">START TRANSACTION;</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">select * from test; – null</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"></td>
<td align="left">insert into test(id) VALUES (NULL);</td>
</tr>
<tr>
<td align="left">select * from test; – 1</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"></td>
<td align="left">insert into test(id) VALUES (NULL);</td>
</tr>
<tr>
<td align="left">select * from test; – 1,2</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">COMMIT;</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">—————————————-</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">SET SESSION TRANSACTION ISOLATION LEVEL repeatable read;</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">START TRANSACTION;</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">select * from test; – null</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"></td>
<td align="left">insert into test(id) VALUES (NULL);</td>
</tr>
<tr>
<td align="left">select * from test; – null</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"></td>
<td align="left">insert into test(id) VALUES (NULL);</td>
</tr>
<tr>
<td align="left">select * from test; – null</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">COMMIT;</td>
<td align="left"></td>
</tr>
</tbody></table>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://findxyz.github.io/2022/05/22/Lab/JUnit-Mockito/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="FindxyZ">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="FindxyZ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/05/22/Lab/JUnit-Mockito/" class="post-title-link" itemprop="url">JUnit Mockito 实验</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-05-22 01:19:20" itemprop="dateCreated datePublished" datetime="2022-05-22T01:19:20+08:00">2022-05-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-08-16 21:26:33" itemprop="dateModified" datetime="2022-08-16T21:26:33+08:00">2022-08-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AE%9E%E9%AA%8C%E5%AE%A4/" itemprop="url" rel="index"><span itemprop="name">实验室</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="JUnit-Mockito-使用手册"><a href="#JUnit-Mockito-使用手册" class="headerlink" title="JUnit Mockito 使用手册"></a>JUnit Mockito 使用手册</h2><h3 id="1-依赖"><a href="#1-依赖" class="headerlink" title="1 依赖"></a>1 依赖</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">dependencies &#123;</span><br><span class="line">    testCompile(&#x27;org.mockito:mockito-core:3.8.0&#x27;)</span><br><span class="line">    testCompile(&#x27;org.mockito:mockito-inline:3.8.0&#x27;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">configurations &#123;</span><br><span class="line">    testCompile.resolutionStrategy &#123;</span><br><span class="line">        force &#x27;org.mockito:mockito-core:3.8.0&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-示例"><a href="#2-示例" class="headerlink" title="2 示例"></a>2 示例</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RunWith(SpringRunner.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserTest</span> &#123;</span><br><span class="line">    <span class="meta">@MockBean</span></span><br><span class="line">    <span class="keyword">private</span> UserRepository userRepository;</span><br><span class="line">    <span class="meta">@MockBean</span></span><br><span class="line">    <span class="keyword">private</span> SecurityContext securityContext;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@InjectMocks</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">UserService</span> <span class="variable">userService</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UserService</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="variable">setUpIsDone</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Before</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span> &#123;</span><br><span class="line">        MockitoAnnotations.openMocks(<span class="built_in">this</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (!setUpIsDone) &#123;</span><br><span class="line">            <span class="comment">// 静态方法 mock</span></span><br><span class="line">            MockedStatic&lt;SnGenerator&gt; snGenerator = Mockito.mockStatic(SnGenerator.class);</span><br><span class="line">            snGenerator.when(() -&gt; SnGenerator.gen(Mockito.anyString())).thenReturn(<span class="string">&quot;abc123&quot;</span>);</span><br><span class="line">            setUpIsDone = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 实例方法 mock</span></span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">        user.setId(<span class="number">1L</span>);</span><br><span class="line">        user.setNickName(<span class="string">&quot;fz&quot;</span>);</span><br><span class="line">        Mockito.doReturn(user).when(userRepository).getOne(<span class="number">1L</span>);</span><br><span class="line">        Mockito.doReturn(user).when(userRepository).save(Mockito.any());</span><br><span class="line"></span><br><span class="line">        Mockito.doReturn(<span class="number">1L</span>).when(securityContext).getOperatorId();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testUser_get</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">UserDTO</span> <span class="variable">userDTO</span> <span class="operator">=</span> userService.getUserById(<span class="number">1L</span>);</span><br><span class="line">        Assert.isTrue(userDTO.getId().equals(<span class="number">1L</span>), <span class="string">&quot;User id not match&quot;</span>);</span><br><span class="line">        System.out.println(securityContext.getOperatorId());</span><br><span class="line">        Mockito.verify(userRepository).getOne(<span class="number">1L</span>);</span><br><span class="line">        Mockito.verifyNoMoreInteractions(userRepository);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testUser_save</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">UserDTO</span> <span class="variable">userDTO</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UserDTO</span>();</span><br><span class="line">        userDTO.setId(<span class="number">1L</span>);</span><br><span class="line">        userDTO.setNickName(<span class="string">&quot;fz&quot;</span>);</span><br><span class="line">        userDTO = userService.createUser(userDTO);</span><br><span class="line">        Assert.isTrue(userDTO.getId().equals(<span class="number">1L</span>), <span class="string">&quot;User id not match&quot;</span>);</span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">        user.setId(<span class="number">1L</span>);</span><br><span class="line">        user.setUserSn(<span class="string">&quot;1abc123&quot;</span>);</span><br><span class="line">        user.setNickName(<span class="string">&quot;fz&quot;</span>);</span><br><span class="line">        user.setIsEnabled(<span class="literal">true</span>);</span><br><span class="line">        user.setDefaultPower(<span class="number">180</span>);</span><br><span class="line">        user.setNoPowerSetting(NoPowerSettingEnum.powerOff);</span><br><span class="line">        Mockito.verify(userRepository).save(user);</span><br><span class="line">        Mockito.verifyNoMoreInteractions(userRepository);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>






      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://findxyz.github.io/2022/05/22/Lab/Gradle/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="FindxyZ">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="FindxyZ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/05/22/Lab/Gradle/" class="post-title-link" itemprop="url">Gradle 实验</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-05-22 01:14:18" itemprop="dateCreated datePublished" datetime="2022-05-22T01:14:18+08:00">2022-05-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-08-16 21:26:33" itemprop="dateModified" datetime="2022-08-16T21:26:33+08:00">2022-08-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AE%9E%E9%AA%8C%E5%AE%A4/" itemprop="url" rel="index"><span itemprop="name">实验室</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>​<img src="\assert\puml\15972964e017ba24f365a8062b6a7384b25666d7a5c11a18072ee9786ce568c8.svg"/></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">FindxyZ</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">13</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">分类</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">FindxyZ</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
